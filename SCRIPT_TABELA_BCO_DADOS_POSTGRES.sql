create table tb_encaminhamento_hospital (encaminhamento_id int8 not null, hospital_id int8 not null);
create table tb_hospital (id int8 generated by default as identity, bairro_do_hospital varchar(255), cep_do_hospital varchar(255), endereco_do_hospital varchar(255), moment timestamp, nome_do_hospital varchar(255), telefone_do_hospital varchar(255), updated_at TIMESTAMP WITHOUT TIME ZONE, primary key (id));
create table tb_paciente (id int8 generated by default as identity, ala_hospitalar varchar(255), bairro varchar(255), cep varchar(255), complemento varchar(255), cpf varchar(255), data_de_internamento timestamp, data_de_nascimento timestamp, email varchar(50), enfermidade varchar(255), gravidade_da_enfermidade varchar(255), idade int4 not null, localidade varchar(255), logradouro varchar(255), nome varchar(255), numero int8, tipo_sanguineo varchar(255), uf varchar(255), updated_at TIMESTAMP WITHOUT TIME ZONE, primary key (id));
create table tb_role (id int8 generated by default as identity, authority varchar(255), primary key (id));
create table tb_solicitacao (id int8 generated by default as identity, moment timestamp, paciente_id int8, primary key (id));
create table tb_user (id int8 generated by default as identity, email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), primary key (id));
create table tb_user_role (user_id int8 not null, role_id int8 not null, primary key (user_id, role_id));
alter table if exists tb_paciente add constraint UK_6ad9be3a7jjmtjcos2y16mo08 unique (cpf);
alter table if exists tb_paciente add constraint UK_s0br0snl91alxletgeh8m105r unique (email);
alter table if exists tb_user add constraint UK_4vih17mube9j7cqyjlfbcrk4m unique (email);
alter table if exists tb_encaminhamento_hospital add constraint FKieski5y9pdoe02nrcbh83wbac foreign key (hospital_id) references tb_hospital;
alter table if exists tb_encaminhamento_hospital add constraint FKtdsflm634cek6hbndsm5ux6m7 foreign key (encaminhamento_id) references tb_solicitacao;
alter table if exists tb_solicitacao add constraint FK97ygoya86dn9bm9nx1t1m0r0b foreign key (paciente_id) references tb_paciente;
alter table if exists tb_user_role add constraint FKea2ootw6b6bb0xt3ptl28bymv foreign key (role_id) references tb_role;
alter table if exists tb_user_role add constraint FK7vn3h53d0tqdimm8cp45gc0kl foreign key (user_id) references tb_user;
